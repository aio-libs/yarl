Fixed an issue where replacing the path would also replace the query and fragment.
