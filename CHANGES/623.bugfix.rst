Changed call in ``with_port()`` to stop reencoding parts of the URL that were already encoded.
